rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    /* ───────── events 컬렉션 ───────── */
    match /events/{eventId} {
      // 읽기는 로그인만 되어 있으면 OK
      allow read: if request.auth != null;

      // 생성·수정은 로그인만 확인
      allow create, update: if request.auth != null;

      // 삭제는 만든 사람만
      allow delete: if request.auth != null
                    && request.auth.uid == resource.data.createdBy;
    }

    /* ───────── 기타 문서 ───────── */
    match /{document=**} {
      // 필요하다면 다른 컬렉션 규칙을 여기에…
      allow read, write: if false;  // 기본은 차단
    }
  }
}